os: osx
language: generic
osx_image: xcode9.2
before_script:
  - pip2 install six
  - brew update
  - brew uninstall --ignore-dependencies libimobiledevice
  - brew uninstall --ignore-dependencies usbmuxd
  - brew install --HEAD usbmuxd
  - brew unlink usbmuxd
  - brew link usbmuxd
  - brew install --HEAD libimobiledevice  
  - brew install ideviceinstaller
  - brew install ios-deploy
  - git clone https://github.com/flutter/flutter.git -b alpha --depth 1
script:
  - ./flutter/bin/flutter -v build ios --no-codesign

cache:
  directories:
    - $HOME/.pub-cache
